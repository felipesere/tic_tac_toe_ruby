TODO:

* Remove unnecessary is_marked? methods once they are no longer needed
* many references to the baords size
  - init of the hash
* proper hiding of methods with private
* better matcher for size of possible_moves
* #mark should take an actual move as parameter
